<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=1280, height=720, initial-scale=1.0">
  <title>sliders</title>
  <link rel="stylesheet" href="../include/css/style.css">
  <link rel="stylesheet" href="../include/css/slider.css">
  <script src="../include/js/pageManager.js"></script>
</head>
<!--
  class name
  selected: 선택된 상태
  circleTab: circle tab이 있는 슬라이더
  moveButton: 좌우 이동 버튼이 있는 슬라이더
  all: circle tab, 좌우 이동 버튼이 있는 슬라이더

  attribute name
  data-sld-idx: 슬라이더 인덱스
  data-sld-cont: 슬라이더 내부 슬라이더 인덱스
    (js-sliderBtn의 data-sld-cont는 js-slider의 data-sld-idx와 같아야 함)
  data-sld-opts: 슬라이더 옵션
  data-tab-name: circle tab 이름

  slider options
  title: 슬라이더에 제목을 추가하는 옵션
  motion: 슬라이더 이동 시 모션이 생기는 옵션
  moveSideMotion: 슬라이더가 left로 이동하는 옵션

  slider callback
  pageChange: 슬라이더 페이지 변경 시 콜백 함수

  * 슬라이더는 js-slider 클래스를 가진 요소를 기준으로 생성됩니다.
  * 슬라이더 내부의 슬라이더는 js-sliderContent 클래스를 가진 요소를 기준으로 생성됩니다.
  * 슬라이더 내부의 슬라이더의 circle tab은 js-sliderTabs 클래스를 가진 요소를 기준으로 생성됩니다.
  * 슬라이더 내부의 슬라이더의 좌우 이동 버튼은 js-sliderPrevBtn, js-sliderNextBtn 클래스를 가진 요소를 기준으로 생성됩니다.
  * js-sliderTab와 js-sliderPrevBtn, js-sliderNextBtn은 선택사항입니다.
    (해당 클래스를 가진 요소는 js-slider 클래스를 가진 요소 내부에 있어야 함)
-->

<body>
  <div class="wrap  js-scale">
    <main>
      <!-- 상단 선택 Btn -->
      <section class="menuContainer">
        <button class="js-sliderBtn selected" data-sld-idx="1" data-sld-cont="1"></button>
        <button class="js-sliderBtn" data-sld-idx="1" data-sld-cont="2"></button>
        <button class="js-sliderBtn" data-sld-idx="1" data-sld-cont="3"></button>
        <button class="js-sliderBtn" data-sld-idx="1" data-sld-cont="4"></button>
        <button class="js-sliderBtn" data-sld-idx="1" data-sld-cont="5"></button>
      </section>
      <!-- // 상단 선택 Btn -->

      <!-- 슬라이더 내용 -->
      <section class="contents">
        <div class="js-slider sliderContainer" data-sld-idx="1">
          <ul class="sliderContentContainer">
            <!-- 1. circle tab이 있는 슬라이더 -->
            <li class="js-sliderContent sliderContent selected" data-sld-cont="1">
              <div class="js-slider sliderContainer circleTab" data-sld-idx="2">
                <ul class="sliderContentContainer inner">
                  <li class="js-sliderContent sliderContent selected" data-sld-cont="1"></li>
                  <li class="js-sliderContent sliderContent" data-sld-cont="2"></li>
                  <li class="js-sliderContent sliderContent" data-sld-cont="3"></li>
                  <li class="js-sliderContent sliderContent" data-sld-cont="4"></li>
                </ul>
                <div class="js-sliderTabs sliderTabs" data-tab-name="slideDot"></div>
              </div>
            </li>
            <!-- // 1. circle tab이 있는 슬라이더 -->

            <!-- 2. sliderBtn이 있는 슬라이더 -->
            <li class="js-sliderContent sliderContent" data-sld-cont="2">
              <div class="js-slider sliderContainer moveButton" data-sld-idx="3">
                <ul class="sliderContentContainer inner">
                  <li class="js-sliderContent sliderContent selected" data-sld-cont="1"></li>
                  <li class="js-sliderContent sliderContent" data-sld-cont="2"></li>
                  <li class="js-sliderContent sliderContent" data-sld-cont="3"></li>
                  <li class="js-sliderContent sliderContent" data-sld-cont="4"></li>
                </ul>
                <button class="js-sliderPrevBtn sliderPrevButton"></button>
                <button class="js-sliderNextBtn sliderNextButton"></button>
              </div>
            </li>
            <!-- // 2. sliderBtn이 있는 슬라이더 -->

            <!-- 3. circle tab과 sliderBtn이 있는 슬라이더 -->
            <li class="js-sliderContent sliderContent" data-sld-cont="3">
              <div class="js-slider sliderContainer all" data-sld-idx="4" data-sld-opts="motion">
                <ul class="sliderContentContainer inner">
                  <li class="js-sliderContent sliderContent selected" data-sld-cont="1"></li>
                  <li class="js-sliderContent sliderContent" data-sld-cont="2"></li>
                  <li class="js-sliderContent sliderContent" data-sld-cont="3"></li>
                  <li class="js-sliderContent sliderContent" data-sld-cont="4"></li>
                </ul>
                <button class="js-sliderPrevBtn sliderPrevButton"></button>
                <button class="js-sliderNextBtn sliderNextButton"></button>
                <div class="js-sliderTabs sliderTabs" data-tab-name="slideDot"></div>
              </div>
            </li>
            <!-- // 3. circle tab과 sliderBtn이 있는 슬라이더 -->

            <!-- 4. data-sld-opts이 "title"인 슬라이더-->
            <li class="js-sliderContent sliderContent" data-sld-cont="4">
              <div class="sliderTit">
                <span class="js-sliderTitle" data-sld-idx="5"></span>
              </div>
              <div class="js-slider sliderContainer" data-sld-idx="5" data-sld-opts="title">
                <ul class="sliderContentContainer inner">
                  <li class="js-sliderContent sliderContent selected" data-sld-title="1제목" data-sld-cont="1"></li>
                  <li class="js-sliderContent sliderContent" data-sld-title="2제목" data-sld-cont="2"></li>
                  <li class="js-sliderContent sliderContent" data-sld-title="3제목" data-sld-cont="3"></li>
                  <li class="js-sliderContent sliderContent" data-sld-title="4제목" data-sld-cont="4"></li>
                </ul>
                <button class="js-sliderPrevBtn sliderPrevButton"></button>
                <button class="js-sliderNextBtn sliderNextButton"></button>
              </div>
            </li>
            <!-- // 4. data-sld-opts이 "title"인 슬라이더-->

            <!-- 5. data-sld-opts이 "moveSideMotion"인 슬라이더-->
            <li class="js-sliderContent sliderContent" data-sld-cont="5">
              <div class="js-slider sliderContainer all" data-sld-idx="6" data-sld-opts="moveSideMotion" data-sld-name="slidera">
                <ul class="sliderContentContainer inner">
                  <li class="js-sliderContent sliderContent selected" data-sld-cont="1"></li>
                  <li class="js-sliderContent sliderContent" data-sld-cont="2"></li>
                  <li class="js-sliderContent sliderContent" data-sld-cont="3"></li>
                  <li class="js-sliderContent sliderContent" data-sld-cont="4"></li>
                </ul>
                <button class="js-sliderPrevBtn sliderPrevButton"></button>
                <button class="js-sliderNextBtn sliderNextButton"></button>
                <div class="js-sliderTabs sliderTabs" data-tab-name="slideDot"></div>
              </div>
            </li>
          </ul>
        </div>
      </section>
      <!-- // 슬라이더 내용-->
    </main>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // setting slider callback
      loop(() => pageManager.sliders).then(() => { // 모든 슬라이더에 콜백 설정
        pageManager.sliders.forEach((slider) => { // slider를 순회하며
          slider.callback = { // callback을 설정
            pageChange: () => { // pageChange 콜백 함수
              console.log('slider callback');
            }
          }
        });
        /* pageManager.getSliderByIndex(1).callback = {
          pageChange: (SLIDER) => {
            console.log('SLIDER:', SLIDER);
          }
        } */
      });
    });
  </script>
</body>

</html>